<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Work Time Tracker</title>

    <!-- Redirect script for GitHub Pages SPA -->
    <script type="text/javascript">
      // Single Page Applications for GitHub Pages
      // MIT License
      // https://github.com/rafgraph/spa-github-pages

      // This script checks to see if a redirect is present in the query string,
      // converts it back into the correct url and adds it to the
      // browser's history using window.history.replaceState(...),
      // which won't cause the browser to attempt to load the new url.
      // When the single page app is loaded further down in this file,
      // the correct url will be waiting in the browser's history for
      // the single page app to route accordingly.

      (function (l) {
        if (l.search[1] === '/') {
          var decoded = l.search
            .slice(1)
            .split('&')
            .map(function (s) {
              return s.replace(/~and~/g, '&');
            })
            .join('?');
          window.history.replaceState(null, null, l.pathname.slice(0, -1) + decoded + l.hash);
        }
      })(window.location);
    </script>

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />

    <!-- Meta tags for better SEO -->
    <meta
      name="description"
      content="Track your work time, manage tasks, and generate reports with this simple work time tracking application."
    />
    <meta
      name="keywords"
      content="time tracker, work timer, task management, productivity, time logging"
    />
    <meta name="author" content="Work Time Tracker" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://your-username.github.io/task-tracker/" />
    <meta property="og:title" content="Work Time Tracker" />
    <meta
      property="og:description"
      content="Track your work time, manage tasks, and generate reports"
    />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://your-username.github.io/task-tracker/" />
    <meta property="twitter:title" content="Work Time Tracker" />
    <meta
      property="twitter:description"
      content="Track your work time, manage tasks, and generate reports"
    />

    <!-- Theme color for mobile browsers -->
    <meta name="theme-color" content="#fbbf24" />

    <style>
      /* Loading styles while redirect happens */
      body {
        margin: 0;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
        background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        color: #1f2937;
      }

      .loading-container {
        text-align: center;
        background: white;
        padding: 2rem;
        border-radius: 1rem;
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        max-width: 400px;
        width: 90%;
      }

      .spinner {
        width: 40px;
        height: 40px;
        border: 4px solid #f3f4f6;
        border-top: 4px solid #fbbf24;
        border-radius: 50%;
        animation: spin 1s linear infinite;
        margin: 0 auto 1rem;
      }

      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      h1 {
        margin: 0 0 1rem;
        font-size: 1.5rem;
        font-weight: 600;
      }

      p {
        margin: 0 0 1.5rem;
        color: #6b7280;
        line-height: 1.5;
      }

      .manual-link {
        display: inline-block;
        padding: 0.5rem 1rem;
        background: #fbbf24;
        color: #1f2937;
        text-decoration: none;
        border-radius: 0.5rem;
        font-weight: 500;
        transition: background 0.2s;
      }

      .manual-link:hover {
        background: #f59e0b;
      }

      .error-message {
        background: #fee2e2;
        color: #dc2626;
        padding: 1rem;
        border-radius: 0.5rem;
        margin-top: 1rem;
        display: none;
      }
    </style>
  </head>
  <body>
    <div class="loading-container">
      <div class="spinner"></div>
      <h1>Work Time Tracker</h1>
      <p>Redirecting you to the application...</p>
      <p>
        <a href="/task-tracker/" class="manual-link" id="manual-link"> Go to App </a>
      </p>

      <div class="error-message" id="error-message">
        If you're seeing this page, the redirect didn't work automatically. Please click the link
        above to access the application.
      </div>
    </div>

    <script>
      // Show error message after 3 seconds if still on this page
      setTimeout(function () {
        document.getElementById('error-message').style.display = 'block';
      }, 3000);

      // Automatic redirect fallback
      setTimeout(function () {
        if (window.location.pathname === '/404.html') {
          window.location.href = '/task-tracker/';
        }
      }, 2000);

      // Update manual link with correct base path
      const basePath = window.location.pathname.includes('/task-tracker/') ? '/task-tracker/' : '/';
      document.getElementById('manual-link').href = basePath;
    </script>
  </body>
</html>
